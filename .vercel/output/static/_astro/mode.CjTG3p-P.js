import{y as w,z as l,A as p}from"./index.Bej0jks8.js";let h,g;function k(t){if(typeof document>"u")return;clearTimeout(h),clearTimeout(g);const n=document.createElement("style"),s=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);n.appendChild(s);const e=()=>document.head.appendChild(n),o=()=>document.head.removeChild(n);if(typeof window.getComputedStyle<"u"){e(),t(),window.getComputedStyle(n).opacity,o();return}if(typeof window.requestAnimationFrame<"u"){e(),t(),window.requestAnimationFrame(o);return}e(),h=window.setTimeout(()=>{t(),g=window.setTimeout(o,120)},120)}const b={getItem:t=>null,setItem:(t,n)=>{}},d=typeof document<"u",v=["dark","light","system"],u="mode-watcher-mode",m=I(),S=L(),M=l(void 0),E=l(!0),A=T();function I(){const t="system",n=d?localStorage:b,s=n.getItem(u);let e=y(s)?s:t;const{subscribe:o,set:i}=l(e,()=>{if(!d)return;const r=c=>{if(c.key!==u)return;const f=c.newValue;y(f)?i(e=f):i(e=t)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function a(r){i(e=r),n.setItem(u,e)}return{subscribe:o,set:a}}function L(){let n=!0;const{subscribe:s,set:e}=l(void 0,()=>{if(!d)return;const a=c=>{n&&e(c.matches?"light":"dark")},r=window.matchMedia("(prefers-color-scheme: light)");return r.addEventListener("change",a),()=>r.removeEventListener("change",a)});function o(){if(!d)return;const a=window.matchMedia("(prefers-color-scheme: light)");e(a.matches?"light":"dark")}function i(a){n=a}return{subscribe:s,query:o,tracking:i}}function T(){const{subscribe:t}=w([m,S,M,E],([n,s,e,o])=>{if(!d)return;const i=n==="system"?s:n;function a(){const r=document.documentElement,c=document.querySelector('meta[name="theme-color"]');i==="light"?(r.classList.remove("dark"),r.style.colorScheme="light",c&&e&&c.setAttribute("content",e.light)):(r.classList.add("dark"),r.style.colorScheme="dark",c&&e&&c.setAttribute("content",e.dark))}return o?k(a):a(),i});return{subscribe:t}}function y(t){return typeof t!="string"?!1:v.includes(t)}function _(){m.set(p(A)==="dark"?"light":"dark")}function q(t){m.set(t)}function x(t,n){const s=document.documentElement,e=localStorage.getItem("mode-watcher-mode")||t,o=e==="light"||e==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(s.classList[o?"remove":"add"]("dark"),s.style.colorScheme=o?"light":"dark",n){const i=document.querySelector('meta[name="theme-color"]');i&&i.setAttribute("content",e==="light"?n.light:n.dark)}localStorage.setItem("mode-watcher-mode",e)}export{A as a,S as b,q as c,E as d,_ as e,y as i,u as l,x as s,M as t};
